<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="2034pt" height="1155pt"
 viewBox="0.00 0.00 2033.66 1155.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1151)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1151 2029.66,-1151 2029.66,4 -4,4"/>
<!-- 23 -->
<g id="node1" class="node">
<title>23</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-498.7 0,-791.5 337.59,-791.5 337.59,-498.7 0,-498.7"/>
<text text-anchor="middle" x="168.79" y="-774.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="168.79" y="-758.1" font-family="Times,serif" font-size="14.00">VaultManagerRole</text>
<text text-anchor="middle" x="168.79" y="-741.3" font-family="Times,serif" font-size="14.00">../contracts/shared/VaultManagerRole.sol</text>
<polyline fill="none" stroke="black" points="0,-733.1 337.59,-733.1 "/>
<text text-anchor="start" x="8" y="-716.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="8" y="-699.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;vaultManager: address</text>
<polyline fill="none" stroke="black" points="0,-691.5 337.59,-691.5 "/>
<text text-anchor="start" x="8" y="-674.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="8" y="-658.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_vaultManager: address)</text>
<text text-anchor="start" x="8" y="-641.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="8" y="-624.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setVaultManager(_vaultManager: address)</text>
<text text-anchor="start" x="8" y="-607.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;pause()</text>
<text text-anchor="start" x="8" y="-590.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;unpause()</text>
<text text-anchor="start" x="8" y="-574.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="8" y="-557.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SetVaultManager(_vaultManager: address)</text>
<text text-anchor="start" x="8" y="-540.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyVaultManager()</text>
<text text-anchor="start" x="8" y="-523.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_nexus: address)</text>
<text text-anchor="start" x="8" y="-506.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;isVaultManager(account: address): (result: bool)</text>
</g>
<!-- 25 -->
<g id="node2" class="node">
<title>25</title>
<polygon fill="#f2f2f2" stroke="black" points="355.63,-553.1 355.63,-737.1 721.96,-737.1 721.96,-553.1 355.63,-553.1"/>
<text text-anchor="middle" x="538.79" y="-720.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="538.79" y="-703.7" font-family="Times,serif" font-size="14.00">InitializableToken</text>
<text text-anchor="middle" x="538.79" y="-686.9" font-family="Times,serif" font-size="14.00">../contracts/tokens/InitializableToken.sol</text>
<polyline fill="none" stroke="black" points="355.63,-678.7 721.96,-678.7 "/>
<text text-anchor="start" x="363.63" y="-662.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="363.63" y="-645.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_name: string, _symbol: string, _decimals: uint8)</text>
<text text-anchor="start" x="363.63" y="-628.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="363.63" y="-611.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="363.63" y="-594.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;name(): (name_: string)</text>
<text text-anchor="start" x="363.63" y="-578.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;symbol(): (symbol_: string)</text>
<text text-anchor="start" x="363.63" y="-561.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;decimals(): (decimals_: uint8)</text>
</g>
<!-- 130 -->
<g id="node3" class="node">
<title>130</title>
<polygon fill="#f2f2f2" stroke="black" points="740.12,-389.5 740.12,-900.7 1459.47,-900.7 1459.47,-389.5 740.12,-389.5"/>
<text text-anchor="middle" x="1099.79" y="-884.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1099.79" y="-867.3" font-family="Times,serif" font-size="14.00">PeriodicAllocationAbstractVault</text>
<text text-anchor="middle" x="1099.79" y="-850.5" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/PeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="740.12,-842.3 1459.47,-842.3 "/>
<text text-anchor="start" x="748.12" y="-825.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="748.12" y="-808.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;BASIS_SCALE: uint256</text>
<text text-anchor="start" x="748.12" y="-792.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;sourceParams: AssetSourcingParams</text>
<text text-anchor="start" x="748.12" y="-775.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetsTransferred: uint256</text>
<text text-anchor="start" x="748.12" y="-758.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetPerShareUpdateThreshold: uint256</text>
<polyline fill="none" stroke="black" points="740.12,-750.3 1459.47,-750.3 "/>
<text text-anchor="start" x="748.12" y="-733.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="748.12" y="-716.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_underlyingVaults: address[], _sourceParams: AssetSourcingParams, _assetPerShareUpdateThreshold: uint256)</text>
<text text-anchor="start" x="748.12" y="-700.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_deposit(assets: uint256, receiver: address): (shares: uint256)</text>
<text text-anchor="start" x="748.12" y="-683.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewDeposit(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="748.12" y="-666.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_mint(shares: uint256, receiver: address): (assets: uint256)</text>
<text text-anchor="start" x="748.12" y="-649.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewMint(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="748.12" y="-632.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_withdraw(assets: uint256, receiver: address, owner: address): (shares: uint256)</text>
<text text-anchor="start" x="748.12" y="-616.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewWithdraw(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="748.12" y="-599.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_redeem(shares: uint256, receiver: address, owner: address): (assets: uint256)</text>
<text text-anchor="start" x="748.12" y="-582.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewRedeem(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="748.12" y="-565.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_sourceAssets(assets: uint256, shares: uint256): (actualAssets: uint256)</text>
<text text-anchor="start" x="748.12" y="-548.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkAndUpdateAssetPerShare(_assets: uint256)</text>
<text text-anchor="start" x="748.12" y="-532.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_updateAssetPerShare()</text>
<text text-anchor="start" x="748.12" y="-515.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToAssets(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="748.12" y="-498.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToShares(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="748.12" y="-481.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="748.12" y="-464.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;settle(settlements: Settlement[])</text>
<text text-anchor="start" x="748.12" y="-448.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateAssetPerShare()</text>
<text text-anchor="start" x="748.12" y="-431.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSingleVaultSharesThreshold(_singleVaultSharesThreshold: uint32)</text>
<text text-anchor="start" x="748.12" y="-414.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSingleSourceVaultIndex(_singleSourceVaultIndex: uint32)</text>
<text text-anchor="start" x="748.12" y="-397.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setAssetPerShareUpdateThreshold(_assetPerShareUpdateThreshold: uint256)</text>
</g>
<!-- 147 -->
<g id="node4" class="node">
<title>147</title>
<polygon fill="#f2f2f2" stroke="black" points="1601.63,-937.7 1601.63,-1146.5 1939.96,-1146.5 1939.96,-937.7 1601.63,-937.7"/>
<text text-anchor="middle" x="1770.79" y="-1129.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1770.79" y="-1113.1" font-family="Times,serif" font-size="14.00">FeeAdminAbstractVault</text>
<text text-anchor="middle" x="1770.79" y="-1096.3" font-family="Times,serif" font-size="14.00">../contracts/vault/fee/FeeAdminAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="1601.63,-1088.1 1939.96,-1088.1 "/>
<text text-anchor="start" x="1609.63" y="-1071.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1609.63" y="-1054.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;feeReceiver: address</text>
<polyline fill="none" stroke="black" points="1601.63,-1046.5 1939.96,-1046.5 "/>
<text text-anchor="start" x="1609.63" y="-1029.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1609.63" y="-1013.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_feeReceiver: address)</text>
<text text-anchor="start" x="1609.63" y="-996.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1609.63" y="-979.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setFeeReceiver(_feeReceiver: address)</text>
<text text-anchor="start" x="1609.63" y="-962.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1609.63" y="-945.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FeeReceiverUpdated(feeReceiver: address)</text>
</g>
<!-- 151 -->
<g id="node5" class="node">
<title>151</title>
<polygon fill="#f2f2f2" stroke="black" points="1515.93,-473.5 1515.93,-816.7 2025.66,-816.7 2025.66,-473.5 1515.93,-473.5"/>
<text text-anchor="middle" x="1770.79" y="-800.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1770.79" y="-783.3" font-family="Times,serif" font-size="14.00">PerfFeeAbstractVault</text>
<text text-anchor="middle" x="1770.79" y="-766.5" font-family="Times,serif" font-size="14.00">../contracts/vault/fee/PerfFeeAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="1515.93,-758.3 2025.66,-758.3 "/>
<text text-anchor="start" x="1523.93" y="-741.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1523.93" y="-724.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;FEE_SCALE: uint256</text>
<text text-anchor="start" x="1523.93" y="-708.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;PERF_ASSETS_PER_SHARE_SCALE: uint256</text>
<text text-anchor="start" x="1523.93" y="-691.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;performanceFee: uint256</text>
<text text-anchor="start" x="1523.93" y="-674.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;perfFeesAssetPerShare: uint256</text>
<polyline fill="none" stroke="black" points="1515.93,-666.3 2025.66,-666.3 "/>
<text text-anchor="start" x="1523.93" y="-649.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1523.93" y="-632.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_performanceFee: uint256)</text>
<text text-anchor="start" x="1523.93" y="-616.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_chargePerformanceFeeHelper(currentAssetsPerShare: uint256, totalShares: uint256)</text>
<text text-anchor="start" x="1523.93" y="-599.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_chargePerformanceFee()</text>
<text text-anchor="start" x="1523.93" y="-582.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_afterChargePerformanceFee(): (assets: uint256)</text>
<text text-anchor="start" x="1523.93" y="-565.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1523.93" y="-548.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;chargePerformanceFee()</text>
<text text-anchor="start" x="1523.93" y="-532.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setPerformanceFee(_performanceFee: uint256)</text>
<text text-anchor="start" x="1523.93" y="-515.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1523.93" y="-498.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PerformanceFee(feeReceiver: address, feeShares: uint256)</text>
<text text-anchor="start" x="1523.93" y="-481.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PerformanceFeeUpdated(performanceFee: uint256)</text>
</g>
<!-- 151&#45;&gt;147 -->
<g id="edge1" class="edge">
<title>151&#45;&gt;147</title>
<path fill="none" stroke="black" d="M1770.79,-816.77C1770.79,-847.12 1770.79,-878.32 1770.79,-907.45"/>
<polygon fill="none" stroke="black" points="1760.3,-907.52 1770.79,-937.52 1781.3,-907.52 1760.3,-907.52"/>
</g>
<!-- 183 -->
<g id="node6" class="node">
<title>183</title>
<polygon fill="#f2f2f2" stroke="black" points="441.35,-0.5 441.35,-352.5 1758.24,-352.5 1758.24,-0.5 441.35,-0.5"/>
<text text-anchor="middle" x="1099.79" y="-335.9" font-family="Times,serif" font-size="14.00">PeriodicAllocationPerfFeeMetaVault</text>
<text text-anchor="middle" x="1099.79" y="-319.1" font-family="Times,serif" font-size="14.00">../contracts/vault/meta/PeriodicAllocationPerfFeeMetaVault.sol</text>
<polyline fill="none" stroke="black" points="441.35,-310.9 1758.24,-310.9 "/>
<text text-anchor="start" x="449.35" y="-294.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="449.35" y="-277.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(dummy: address)</text>
<text text-anchor="start" x="449.35" y="-260.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_deposit(assets: uint256, receiver: address): (shares: uint256)</text>
<text text-anchor="start" x="449.35" y="-243.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewDeposit(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="449.35" y="-227.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_mint(shares: uint256, receiver: address): (assets: uint256)</text>
<text text-anchor="start" x="449.35" y="-210.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewMint(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="449.35" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_withdraw(assets: uint256, receiver: address, owner: address): (shares: uint256)</text>
<text text-anchor="start" x="449.35" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewWithdraw(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="449.35" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_redeem(shares: uint256, receiver: address, owner: address): (assets: uint256)</text>
<text text-anchor="start" x="449.35" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewRedeem(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="449.35" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToAssets(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="449.35" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToShares(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="449.35" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_afterDepositHook(assets: uint256, uint256, address, bool)</text>
<text text-anchor="start" x="449.35" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_beforeWithdrawHook(assets: uint256, uint256, address, bool)</text>
<text text-anchor="start" x="449.35" y="-59.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="449.35" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(_name: string, _symbol: string, _vaultManager: address, _performanceFee: uint256, _feeReceiver: address, _underlyingVaults: address[], _sourceParams: AssetSourcingParams, _assetPerShareUpdateThreshold: uint256)</text>
<text text-anchor="start" x="449.35" y="-25.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="449.35" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_nexus: address, _asset: address)</text>
</g>
<!-- 183&#45;&gt;23 -->
<g id="edge5" class="edge">
<title>183&#45;&gt;23</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M440.98,-331.94C408.05,-349.01 376.41,-367.96 346.79,-389 309.45,-415.53 277.3,-452.5 251.02,-490.06"/>
<polygon fill="black" stroke="black" points="247.94,-488.37 245.16,-498.59 253.71,-492.33 247.94,-488.37"/>
</g>
<!-- 183&#45;&gt;25 -->
<g id="edge4" class="edge">
<title>183&#45;&gt;25</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M775.39,-352.82C759.88,-364.47 744.91,-376.54 730.79,-389 680.01,-433.82 633.96,-493.97 599.7,-544.61"/>
<polygon fill="black" stroke="black" points="596.75,-542.72 594.08,-552.98 602.56,-546.62 596.75,-542.72"/>
</g>
<!-- 183&#45;&gt;130 -->
<g id="edge2" class="edge">
<title>183&#45;&gt;130</title>
<path fill="none" stroke="black" d="M1099.79,-352.57C1099.79,-354.73 1099.79,-356.9 1099.79,-359.07"/>
<polygon fill="none" stroke="black" points="1089.3,-359.17 1099.79,-389.17 1110.3,-359.17 1089.3,-359.17"/>
</g>
<!-- 183&#45;&gt;147 -->
<g id="edge6" class="edge">
<title>183&#45;&gt;147</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1441.59,-352.63C1451.58,-364.08 1460.73,-376.19 1468.79,-389 1529.63,-485.57 1444.36,-805.65 1506.79,-901.2 1527.89,-933.49 1559.01,-958.82 1592.54,-978.52"/>
<polygon fill="black" stroke="black" points="1591.16,-981.76 1601.58,-983.66 1594.62,-975.67 1591.16,-981.76"/>
</g>
<!-- 183&#45;&gt;151 -->
<g id="edge3" class="edge">
<title>183&#45;&gt;151</title>
<path fill="none" stroke="black" d="M1447.51,-352.51C1466.19,-364.35 1484.41,-376.54 1501.79,-389 1528.91,-408.42 1556.07,-430.43 1582.14,-453.19"/>
<polygon fill="none" stroke="black" points="1575.37,-461.22 1604.75,-473.34 1589.34,-445.54 1575.37,-461.22"/>
</g>
</g>
</svg>
