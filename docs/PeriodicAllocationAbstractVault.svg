<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="1674pt" height="867pt"
 viewBox="0.00 0.00 1673.57 866.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 862.8)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-862.8 1669.57,-862.8 1669.57,4 -4,4"/>
<!-- 55 -->
<g id="node1" class="node">
<title>55</title>
<polygon fill="#f2f2f2" stroke="black" points="765.75,-515.1 765.75,-858.3 1256.98,-858.3 1256.98,-515.1 765.75,-515.1"/>
<text text-anchor="middle" x="1011.36" y="-841.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1011.36" y="-824.9" font-family="Times,serif" font-size="14.00">AssetPerShareAbstractVault</text>
<text text-anchor="middle" x="1011.36" y="-808.1" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/AssetPerShareAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="765.75,-799.9 1256.98,-799.9 "/>
<text text-anchor="start" x="773.75" y="-783.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="773.75" y="-766.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;ASSETS_PER_SHARE_SCALE: uint256</text>
<text text-anchor="start" x="773.75" y="-749.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetsPerShare: uint256</text>
<polyline fill="none" stroke="black" points="765.75,-741.5 1256.98,-741.5 "/>
<text text-anchor="start" x="773.75" y="-724.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="773.75" y="-708.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize()</text>
<text text-anchor="start" x="773.75" y="-691.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewDeposit(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="773.75" y="-674.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewMint(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="773.75" y="-657.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewWithdraw(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="773.75" y="-640.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewRedeem(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="773.75" y="-624.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToAssets(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="773.75" y="-607.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToShares(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="773.75" y="-590.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_updateAssetPerShare()</text>
<text text-anchor="start" x="773.75" y="-573.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="773.75" y="-556.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateAssetPerShare() &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="773.75" y="-540.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="773.75" y="-523.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AssetsPerShareUpdated(assetsPerShare: uint256, totalAssets: uint256)</text>
</g>
<!-- 57 -->
<g id="node2" class="node">
<title>57</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-636.7 0,-736.7 364.73,-736.7 364.73,-636.7 0,-636.7"/>
<text text-anchor="middle" x="182.36" y="-720.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="182.36" y="-703.3" font-family="Times,serif" font-size="14.00">Settlement</text>
<text text-anchor="middle" x="182.36" y="-686.5" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/PeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="0,-678.3 364.73,-678.3 "/>
<text text-anchor="start" x="8" y="-661.7" font-family="Times,serif" font-size="14.00">vaultIndex: uint256</text>
<text text-anchor="start" x="8" y="-644.9" font-family="Times,serif" font-size="14.00">assets: uint256</text>
</g>
<!-- 56 -->
<g id="node4" class="node">
<title>56</title>
<polygon fill="#f2f2f2" stroke="black" points="428.69,-0.5 428.69,-478.1 1148.04,-478.1 1148.04,-0.5 428.69,-0.5"/>
<text text-anchor="middle" x="788.36" y="-461.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="788.36" y="-444.7" font-family="Times,serif" font-size="14.00">PeriodicAllocationAbstractVault</text>
<text text-anchor="middle" x="788.36" y="-427.9" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/PeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="428.69,-419.7 1148.04,-419.7 "/>
<text text-anchor="start" x="436.69" y="-403.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="436.69" y="-386.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;BASIS_SCALE: uint256</text>
<text text-anchor="start" x="436.69" y="-369.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;sourceParams: AssetSourcingParams</text>
<text text-anchor="start" x="436.69" y="-352.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetsTransferred: uint256</text>
<text text-anchor="start" x="436.69" y="-335.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetPerShareUpdateThreshold: uint256</text>
<polyline fill="none" stroke="black" points="428.69,-327.7 1148.04,-327.7 "/>
<text text-anchor="start" x="436.69" y="-311.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="436.69" y="-294.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_underlyingVaults: address[], _sourceParams: AssetSourcingParams, _assetPerShareUpdateThreshold: uint256)</text>
<text text-anchor="start" x="436.69" y="-277.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_deposit(assets: uint256, receiver: address): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-260.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewDeposit(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-243.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_mint(shares: uint256, receiver: address): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-227.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewMint(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-210.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_withdraw(assets: uint256, receiver: address, owner: address): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewWithdraw(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_redeem(shares: uint256, receiver: address, owner: address): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewRedeem(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_sourceAssets(assets: uint256, shares: uint256): (actualAssets: uint256)</text>
<text text-anchor="start" x="436.69" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkAndUpdateAssetPerShare(_assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToAssets(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToShares(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-75.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="436.69" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;settle(settlements: Settlement[]) &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="436.69" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSingleVaultSharesThreshold(_singleVaultSharesThreshold: uint32) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="436.69" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSingleSourceVaultIndex(_singleSourceVaultIndex: uint32) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="436.69" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setAssetPerShareUpdateThreshold(_assetPerShareUpdateThreshold: uint256) &lt;&lt;onlyGovernor&gt;&gt;</text>
</g>
<!-- 57&#45;&gt;56 -->
<g id="edge1" class="edge">
<title>57&#45;&gt;56</title>
<path fill="none" stroke="black" d="M241.1,-636.4C280.32,-601.03 333.5,-553.03 383.36,-514.6 395.88,-504.95 408.73,-495.28 421.79,-485.64"/>
<polygon fill="black" stroke="black" points="422.15,-485.38 424.62,-478.6 431.82,-478.28 429.35,-485.05 422.15,-485.38"/>
</g>
<!-- 58 -->
<g id="node3" class="node">
<title>58</title>
<polygon fill="#f2f2f2" stroke="black" points="383,-636.7 383,-736.7 747.73,-736.7 747.73,-636.7 383,-636.7"/>
<text text-anchor="middle" x="565.36" y="-720.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="565.36" y="-703.3" font-family="Times,serif" font-size="14.00">AssetSourcingParams</text>
<text text-anchor="middle" x="565.36" y="-686.5" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/PeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="383,-678.3 747.73,-678.3 "/>
<text text-anchor="start" x="391" y="-661.7" font-family="Times,serif" font-size="14.00">singleVaultSharesThreshold: uint32</text>
<text text-anchor="start" x="391" y="-644.9" font-family="Times,serif" font-size="14.00">singleSourceVaultIndex: uint32</text>
</g>
<!-- 58&#45;&gt;56 -->
<g id="edge2" class="edge">
<title>58&#45;&gt;56</title>
<path fill="none" stroke="black" d="M594.47,-636.41C614.38,-599.32 642.14,-545.39 670.45,-489.21"/>
<polygon fill="black" stroke="black" points="670.53,-489.04 669.66,-481.88 675.93,-478.32 676.81,-485.48 670.53,-489.04"/>
</g>
<!-- 56&#45;&gt;55 -->
<g id="edge4" class="edge">
<title>56&#45;&gt;55</title>
<path fill="none" stroke="black" d="M907.54,-478.32C909.13,-481.5 910.71,-484.67 912.3,-487.84"/>
<polygon fill="none" stroke="black" points="903.05,-492.82 925.87,-514.94 921.83,-483.42 903.05,-492.82"/>
</g>
<!-- 56&#45;&gt;57 -->
<g id="edge6" class="edge">
<title>56&#45;&gt;57</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M428.46,-467.66C406.87,-483.22 385.68,-498.94 365.36,-514.6 318.81,-550.47 269.36,-594.69 233.54,-629.19"/>
<polygon fill="black" stroke="black" points="230.85,-626.93 226.1,-636.4 235.72,-631.95 230.85,-626.93"/>
</g>
<!-- 56&#45;&gt;58 -->
<g id="edge5" class="edge">
<title>56&#45;&gt;58</title>
<path fill="none" stroke="black" d="M662.46,-478.32C634.73,-533.91 608.2,-588.22 589.86,-627.31"/>
<polygon fill="black" stroke="black" points="586.67,-625.87 585.61,-636.41 593.01,-628.83 586.67,-625.87"/>
</g>
<!-- 60 -->
<g id="node5" class="node">
<title>60</title>
<polygon fill="#f2f2f2" stroke="black" points="1275.16,-523.5 1275.16,-849.9 1665.57,-849.9 1665.57,-523.5 1275.16,-523.5"/>
<text text-anchor="middle" x="1470.36" y="-833.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1470.36" y="-816.5" font-family="Times,serif" font-size="14.00">SameAssetUnderlyingsAbstractVault</text>
<text text-anchor="middle" x="1470.36" y="-799.7" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/SameAssetUnderlyingsAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="1275.16,-791.5 1665.57,-791.5 "/>
<text text-anchor="start" x="1283.16" y="-774.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1283.16" y="-758.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;underlyingVaults: IERC4626Vault[]</text>
<polyline fill="none" stroke="black" points="1275.16,-749.9 1665.57,-749.9 "/>
<text text-anchor="start" x="1283.16" y="-733.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1283.16" y="-716.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_underlyingVaults: address[])</text>
<text text-anchor="start" x="1283.16" y="-699.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_totalUnderlyingAssets(): (totalUnderlyingAssets: uint256)</text>
<text text-anchor="start" x="1283.16" y="-682.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_addVault(_underlyingVault: address)</text>
<text text-anchor="start" x="1283.16" y="-666.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1283.16" y="-649.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;underlyingVaultsLength(): (vaultsLen: uint256)</text>
<text text-anchor="start" x="1283.16" y="-632.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;rebalance(swaps: Swap[]) &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="1283.16" y="-615.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addVault(_underlyingVault: address) &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="1283.16" y="-598.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeVault(vaultIndex: uint256) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="1283.16" y="-582.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1283.16" y="-565.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddedVault(vaultIndex: uint256, vault: address)</text>
<text text-anchor="start" x="1283.16" y="-548.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RemovedVault(vaultIndex: uint256, vault: address)</text>
<text text-anchor="start" x="1283.16" y="-531.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;totalAssets(): (totalManagedAssets: uint256)</text>
</g>
<!-- 56&#45;&gt;60 -->
<g id="edge3" class="edge">
<title>56&#45;&gt;60</title>
<path fill="none" stroke="black" d="M1148.31,-437.61C1181.83,-458.23 1215.1,-479.56 1253.79,-506.09"/>
<polygon fill="none" stroke="black" points="1248,-514.84 1278.63,-523.31 1259.96,-497.59 1248,-514.84"/>
</g>
<!-- 61 -->
<g id="node6" class="node">
<title>61</title>
<polygon fill="#f2f2f2" stroke="black" points="1443.36,-221.3 1443.36,-257.3 1497.36,-257.3 1497.36,-221.3 1443.36,-221.3"/>
<text text-anchor="middle" x="1470.36" y="-235.1" font-family="Times,serif" font-size="14.00">61</text>
</g>
<!-- 61&#45;&gt;60 -->
<g id="edge7" class="edge">
<title>61&#45;&gt;60</title>
<path fill="none" stroke="black" d="M1470.36,-257.49C1470.36,-299.7 1470.36,-412.24 1470.36,-511.35"/>
<polygon fill="black" stroke="black" points="1470.36,-511.37 1474.36,-517.37 1470.36,-523.37 1466.36,-517.37 1470.36,-511.37"/>
</g>
</g>
</svg>
