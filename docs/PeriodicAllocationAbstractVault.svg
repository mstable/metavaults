<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="1806pt" height="1068pt"
 viewBox="0.00 0.00 1806.03 1068.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1064.4)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1064.4 1802.03,-1064.4 1802.03,4 -4,4"/>
<!-- 50 -->
<g id="node1" class="node">
<title>50</title>
<polygon fill="#f2f2f2" stroke="black" points="733.97,-666.3 733.97,-1026.3 1225.2,-1026.3 1225.2,-666.3 733.97,-666.3"/>
<text text-anchor="middle" x="979.58" y="-1009.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="979.58" y="-992.9" font-family="Times,serif" font-size="14.00">AssetPerShareAbstractVault</text>
<text text-anchor="middle" x="979.58" y="-976.1" font-family="Times,serif" font-size="14.00">..contractsvaultallocateAssetPerShareAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="733.97,-967.9 1225.2,-967.9 "/>
<text text-anchor="start" x="741.97" y="-951.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="741.97" y="-934.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;ASSETS_PER_SHARE_SCALE: uint256</text>
<text text-anchor="start" x="741.97" y="-917.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetsPerShare: uint256</text>
<polyline fill="none" stroke="black" points="733.97,-909.5 1225.2,-909.5 "/>
<text text-anchor="start" x="741.97" y="-892.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="741.97" y="-876.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize()</text>
<text text-anchor="start" x="741.97" y="-859.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewDeposit(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="741.97" y="-842.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewMint(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="741.97" y="-825.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewWithdraw(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="741.97" y="-808.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewRedeem(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="741.97" y="-792.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToAssets(shares: uint256, isRoundUp: bool): (assets: uint256)</text>
<text text-anchor="start" x="741.97" y="-775.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToShares(assets: uint256, isRoundUp: bool): (shares: uint256)</text>
<text text-anchor="start" x="741.97" y="-758.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_updateAssetPerShare()</text>
<text text-anchor="start" x="741.97" y="-741.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="741.97" y="-724.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateAssetPerShare() &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="741.97" y="-708.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="741.97" y="-691.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AssetsPerShareUpdated(assetsPerShare: uint256, totalAssets: uint256)</text>
<text text-anchor="start" x="741.97" y="-674.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;calculateAssetPerShare(): (assetsPerShare_: uint256, totalAssets_: uint256)</text>
</g>
<!-- 52 -->
<g id="node2" class="node">
<title>52</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-796.3 0,-896.3 349.17,-896.3 349.17,-796.3 0,-796.3"/>
<text text-anchor="middle" x="174.58" y="-879.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="174.58" y="-862.9" font-family="Times,serif" font-size="14.00">Settlement</text>
<text text-anchor="middle" x="174.58" y="-846.1" font-family="Times,serif" font-size="14.00">..contractsvaultallocatePeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="0,-837.9 349.17,-837.9 "/>
<text text-anchor="start" x="8" y="-821.3" font-family="Times,serif" font-size="14.00">vaultIndex: uint256</text>
<text text-anchor="start" x="8" y="-804.5" font-family="Times,serif" font-size="14.00">assets: uint256</text>
</g>
<!-- 51 -->
<g id="node4" class="node">
<title>51</title>
<polygon fill="#f2f2f2" stroke="black" points="400.91,-0.5 400.91,-595.7 1120.26,-595.7 1120.26,-0.5 400.91,-0.5"/>
<text text-anchor="middle" x="760.58" y="-579.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="760.58" y="-562.3" font-family="Times,serif" font-size="14.00">PeriodicAllocationAbstractVault</text>
<text text-anchor="middle" x="760.58" y="-545.5" font-family="Times,serif" font-size="14.00">..contractsvaultallocatePeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="400.91,-537.3 1120.26,-537.3 "/>
<text text-anchor="start" x="408.91" y="-520.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="408.91" y="-503.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;BASIS_SCALE: uint256</text>
<text text-anchor="start" x="408.91" y="-487.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;sourceParams: AssetSourcingParams</text>
<text text-anchor="start" x="408.91" y="-470.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetsTransferred: uint256</text>
<text text-anchor="start" x="408.91" y="-453.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetPerShareUpdateThreshold: uint256</text>
<polyline fill="none" stroke="black" points="400.91,-445.3 1120.26,-445.3 "/>
<text text-anchor="start" x="408.91" y="-428.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="408.91" y="-411.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_underlyingVaults: address[], _sourceParams: AssetSourcingParams, _assetPerShareUpdateThreshold: uint256)</text>
<text text-anchor="start" x="408.91" y="-395.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_deposit(assets: uint256, receiver: address): (shares: uint256)</text>
<text text-anchor="start" x="408.91" y="-378.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewDeposit(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="408.91" y="-361.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_mint(shares: uint256, receiver: address): (assets: uint256)</text>
<text text-anchor="start" x="408.91" y="-344.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewMint(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="408.91" y="-327.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_withdraw(assets: uint256, receiver: address, owner: address): (shares: uint256)</text>
<text text-anchor="start" x="408.91" y="-311.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewWithdraw(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="408.91" y="-294.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_redeem(shares: uint256, receiver: address, owner: address): (assets: uint256)</text>
<text text-anchor="start" x="408.91" y="-277.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewRedeem(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="408.91" y="-260.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_sourceAssets(assets: uint256, shares: uint256): (actualAssets: uint256)</text>
<text text-anchor="start" x="408.91" y="-243.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkAndUpdateAssetPerShare(_assets: uint256): (isUpdated: bool)</text>
<text text-anchor="start" x="408.91" y="-227.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToAssets(shares: uint256, isRoundUp: bool): (assets: uint256)</text>
<text text-anchor="start" x="408.91" y="-210.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToShares(assets: uint256, isRoundUp: bool): (shares: uint256)</text>
<text text-anchor="start" x="408.91" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_afterRebalance()</text>
<text text-anchor="start" x="408.91" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_afterRemoveVault()</text>
<text text-anchor="start" x="408.91" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_beforeRemoveVault(vaultIndex: uint256)</text>
<text text-anchor="start" x="408.91" y="-143.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="408.91" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;settle(settlements: Settlement[]) &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="408.91" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSingleVaultSharesThreshold(_singleVaultSharesThreshold: uint32) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="408.91" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSingleSourceVaultIndex(_singleSourceVaultIndex: uint32) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="408.91" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setAssetPerShareUpdateThreshold(_assetPerShareUpdateThreshold: uint256) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="408.91" y="-59.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="408.91" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SingleVaultSharesThresholdUpdated(singleVaultSharesThreshold: uint256)</text>
<text text-anchor="start" x="408.91" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SingleSourceVaultIndexUpdated(singleSourceVaultIndex: uint32)</text>
<text text-anchor="start" x="408.91" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AssetPerShareUpdateThresholdUpdated(assetPerShareUpdateThreshold: uint256)</text>
</g>
<!-- 52&#45;&gt;51 -->
<g id="edge1" class="edge">
<title>52&#45;&gt;51</title>
<path fill="none" stroke="black" d="M219.74,-796.25C257.29,-751.66 312.81,-684.97 366.58,-632.2 376.11,-622.86 385.86,-613.49 395.79,-604.13"/>
<polygon fill="black" stroke="black" points="395.81,-604.12 397.45,-597.09 404.56,-595.91 402.92,-602.93 395.81,-604.12"/>
</g>
<!-- 53 -->
<g id="node3" class="node">
<title>53</title>
<polygon fill="#f2f2f2" stroke="black" points="367,-796.3 367,-896.3 716.17,-896.3 716.17,-796.3 367,-796.3"/>
<text text-anchor="middle" x="541.58" y="-879.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="541.58" y="-862.9" font-family="Times,serif" font-size="14.00">AssetSourcingParams</text>
<text text-anchor="middle" x="541.58" y="-846.1" font-family="Times,serif" font-size="14.00">..contractsvaultallocatePeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="367,-837.9 716.17,-837.9 "/>
<text text-anchor="start" x="375" y="-821.3" font-family="Times,serif" font-size="14.00">singleVaultSharesThreshold: uint32</text>
<text text-anchor="start" x="375" y="-804.5" font-family="Times,serif" font-size="14.00">singleSourceVaultIndex: uint32</text>
</g>
<!-- 53&#45;&gt;51 -->
<g id="edge2" class="edge">
<title>53&#45;&gt;51</title>
<path fill="none" stroke="black" d="M565.36,-796.15C584.88,-751.31 613.96,-680.97 643.77,-607.17"/>
<polygon fill="black" stroke="black" points="643.87,-606.91 642.41,-599.85 648.36,-595.78 649.82,-602.84 643.87,-606.91"/>
</g>
<!-- 51&#45;&gt;50 -->
<g id="edge4" class="edge">
<title>51&#45;&gt;50</title>
<path fill="none" stroke="black" d="M879.54,-595.78C885.23,-609.98 890.89,-624.1 896.46,-637.98"/>
<polygon fill="none" stroke="black" points="886.81,-642.14 907.72,-666.07 906.3,-634.32 886.81,-642.14"/>
</g>
<!-- 51&#45;&gt;52 -->
<g id="edge6" class="edge">
<title>51&#45;&gt;52</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M400.75,-582.8C382.84,-599.22 365.35,-615.75 348.58,-632.2 297.96,-681.88 245.79,-743.9 211.82,-788.19"/>
<polygon fill="black" stroke="black" points="208.96,-786.17 205.69,-796.25 214.53,-790.41 208.96,-786.17"/>
</g>
<!-- 51&#45;&gt;53 -->
<g id="edge5" class="edge">
<title>51&#45;&gt;53</title>
<path fill="none" stroke="black" d="M634.9,-595.78C605.82,-668.66 578.29,-739.29 560.71,-786.69"/>
<polygon fill="black" stroke="black" points="557.4,-785.55 557.22,-796.15 563.97,-787.97 557.4,-785.55"/>
</g>
<!-- 55 -->
<g id="node5" class="node">
<title>55</title>
<polygon fill="#f2f2f2" stroke="black" points="1243.14,-632.7 1243.14,-1059.9 1798.03,-1059.9 1798.03,-632.7 1243.14,-632.7"/>
<text text-anchor="middle" x="1520.58" y="-1043.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1520.58" y="-1026.5" font-family="Times,serif" font-size="14.00">SameAssetUnderlyingsAbstractVault</text>
<text text-anchor="middle" x="1520.58" y="-1009.7" font-family="Times,serif" font-size="14.00">..contractsvaultallocateSameAssetUnderlyingsAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="1243.14,-1001.5 1798.03,-1001.5 "/>
<text text-anchor="start" x="1251.14" y="-984.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1251.14" y="-968.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_activeUnderlyingVaults: IERC4626Vault[]</text>
<text text-anchor="start" x="1251.14" y="-951.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;vaultIndexMap: uint256</text>
<polyline fill="none" stroke="black" points="1243.14,-943.1 1798.03,-943.1 "/>
<text text-anchor="start" x="1251.14" y="-926.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1251.14" y="-909.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_underlyingVaults: address[])</text>
<text text-anchor="start" x="1251.14" y="-892.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_totalUnderlyingAssets(): (totalUnderlyingAssets: uint256)</text>
<text text-anchor="start" x="1251.14" y="-876.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_addVault(_underlyingVault: address, _vaultIndexMap: uint256): (vaultIndexMap_: uint256)</text>
<text text-anchor="start" x="1251.14" y="-859.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_afterRebalance()</text>
<text text-anchor="start" x="1251.14" y="-842.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_afterRemoveVault()</text>
<text text-anchor="start" x="1251.14" y="-825.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_beforeRemoveVault(vaultIndex: uint256)</text>
<text text-anchor="start" x="1251.14" y="-808.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1251.14" y="-792.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;activeUnderlyingVaults(): (activeVaults: uint256)</text>
<text text-anchor="start" x="1251.14" y="-775.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;totalUnderlyingVaults(): (totalVaults: uint256)</text>
<text text-anchor="start" x="1251.14" y="-758.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;rebalance(swaps: Swap[]) &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="1251.14" y="-741.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addVault(_underlyingVault: address) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="1251.14" y="-724.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeVault(vaultIndex: uint256) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="1251.14" y="-708.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1251.14" y="-691.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddedVault(vaultIndex: uint256, vault: address)</text>
<text text-anchor="start" x="1251.14" y="-674.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RemovedVault(vaultIndex: uint256, vault: address)</text>
<text text-anchor="start" x="1251.14" y="-657.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;totalAssets(): (totalManagedAssets: uint256)</text>
<text text-anchor="start" x="1251.14" y="-640.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;resolveVaultIndex(vaultIndex: uint256): (vault: IERC4626Vault)</text>
</g>
<!-- 51&#45;&gt;55 -->
<g id="edge3" class="edge">
<title>51&#45;&gt;55</title>
<path fill="none" stroke="black" d="M1120.43,-550.41C1151.9,-572.77 1183.37,-595.26 1218.38,-620.51"/>
<polygon fill="none" stroke="black" points="1212.43,-629.17 1242.9,-638.23 1224.73,-612.14 1212.43,-629.17"/>
</g>
</g>
</svg>
