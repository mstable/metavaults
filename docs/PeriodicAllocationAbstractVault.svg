<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="2024pt" height="951pt"
 viewBox="0.00 0.00 2023.55 950.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 946.8)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-946.8 2019.55,-946.8 2019.55,4 -4,4"/>
<!-- 55 -->
<g id="node1" class="node">
<title>55</title>
<polygon fill="#f2f2f2" stroke="black" points="765.75,-557.1 765.75,-900.3 1256.98,-900.3 1256.98,-557.1 765.75,-557.1"/>
<text text-anchor="middle" x="1011.36" y="-883.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1011.36" y="-866.9" font-family="Times,serif" font-size="14.00">AssetPerShareAbstractVault</text>
<text text-anchor="middle" x="1011.36" y="-850.1" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/AssetPerShareAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="765.75,-841.9 1256.98,-841.9 "/>
<text text-anchor="start" x="773.75" y="-825.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="773.75" y="-808.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;ASSETS_PER_SHARE_SCALE: uint256</text>
<text text-anchor="start" x="773.75" y="-791.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetsPerShare: uint256</text>
<polyline fill="none" stroke="black" points="765.75,-783.5 1256.98,-783.5 "/>
<text text-anchor="start" x="773.75" y="-766.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="773.75" y="-750.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize()</text>
<text text-anchor="start" x="773.75" y="-733.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewDeposit(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="773.75" y="-716.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewMint(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="773.75" y="-699.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewWithdraw(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="773.75" y="-682.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewRedeem(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="773.75" y="-666.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToAssets(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="773.75" y="-649.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToShares(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="773.75" y="-632.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_updateAssetPerShare()</text>
<text text-anchor="start" x="773.75" y="-615.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="773.75" y="-598.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateAssetPerShare() &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="773.75" y="-582.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="773.75" y="-565.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AssetsPerShareUpdated(assetsPerShare: uint256, totalAssets: uint256)</text>
</g>
<!-- 57 -->
<g id="node2" class="node">
<title>57</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-678.7 0,-778.7 364.73,-778.7 364.73,-678.7 0,-678.7"/>
<text text-anchor="middle" x="182.36" y="-762.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="182.36" y="-745.3" font-family="Times,serif" font-size="14.00">Settlement</text>
<text text-anchor="middle" x="182.36" y="-728.5" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/PeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="0,-720.3 364.73,-720.3 "/>
<text text-anchor="start" x="8" y="-703.7" font-family="Times,serif" font-size="14.00">vaultIndex: uint256</text>
<text text-anchor="start" x="8" y="-686.9" font-family="Times,serif" font-size="14.00">assets: uint256</text>
</g>
<!-- 56 -->
<g id="node4" class="node">
<title>56</title>
<polygon fill="#f2f2f2" stroke="black" points="428.69,-0.5 428.69,-478.1 1148.04,-478.1 1148.04,-0.5 428.69,-0.5"/>
<text text-anchor="middle" x="788.36" y="-461.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="788.36" y="-444.7" font-family="Times,serif" font-size="14.00">PeriodicAllocationAbstractVault</text>
<text text-anchor="middle" x="788.36" y="-427.9" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/PeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="428.69,-419.7 1148.04,-419.7 "/>
<text text-anchor="start" x="436.69" y="-403.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="436.69" y="-386.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;BASIS_SCALE: uint256</text>
<text text-anchor="start" x="436.69" y="-369.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;sourceParams: AssetSourcingParams</text>
<text text-anchor="start" x="436.69" y="-352.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetsTransferred: uint256</text>
<text text-anchor="start" x="436.69" y="-335.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetPerShareUpdateThreshold: uint256</text>
<polyline fill="none" stroke="black" points="428.69,-327.7 1148.04,-327.7 "/>
<text text-anchor="start" x="436.69" y="-311.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="436.69" y="-294.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_underlyingVaults: address[], _sourceParams: AssetSourcingParams, _assetPerShareUpdateThreshold: uint256)</text>
<text text-anchor="start" x="436.69" y="-277.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_deposit(assets: uint256, receiver: address): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-260.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewDeposit(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-243.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_mint(shares: uint256, receiver: address): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-227.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewMint(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-210.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_withdraw(assets: uint256, receiver: address, owner: address): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewWithdraw(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_redeem(shares: uint256, receiver: address, owner: address): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewRedeem(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_sourceAssets(assets: uint256, shares: uint256): (actualAssets: uint256)</text>
<text text-anchor="start" x="436.69" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkAndUpdateAssetPerShare(_assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToAssets(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToShares(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-75.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="436.69" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;settle(settlements: Settlement[]) &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="436.69" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSingleVaultSharesThreshold(_singleVaultSharesThreshold: uint32) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="436.69" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSingleSourceVaultIndex(_singleSourceVaultIndex: uint32) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="436.69" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setAssetPerShareUpdateThreshold(_assetPerShareUpdateThreshold: uint256) &lt;&lt;onlyGovernor&gt;&gt;</text>
</g>
<!-- 57&#45;&gt;56 -->
<g id="edge1" class="edge">
<title>57&#45;&gt;56</title>
<path fill="none" stroke="black" d="M227.76,-678.33C266.47,-632.92 324.71,-565.15 383.36,-514.6 394.94,-504.62 406.91,-494.71 419.14,-484.9"/>
<polygon fill="black" stroke="black" points="419.15,-484.89 421.36,-478.02 428.54,-477.42 426.34,-484.29 419.15,-484.89"/>
</g>
<!-- 58 -->
<g id="node3" class="node">
<title>58</title>
<polygon fill="#f2f2f2" stroke="black" points="383,-678.7 383,-778.7 747.73,-778.7 747.73,-678.7 383,-678.7"/>
<text text-anchor="middle" x="565.36" y="-762.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="565.36" y="-745.3" font-family="Times,serif" font-size="14.00">AssetSourcingParams</text>
<text text-anchor="middle" x="565.36" y="-728.5" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/PeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="383,-720.3 747.73,-720.3 "/>
<text text-anchor="start" x="391" y="-703.7" font-family="Times,serif" font-size="14.00">singleVaultSharesThreshold: uint32</text>
<text text-anchor="start" x="391" y="-686.9" font-family="Times,serif" font-size="14.00">singleSourceVaultIndex: uint32</text>
</g>
<!-- 58&#45;&gt;56 -->
<g id="edge2" class="edge">
<title>58&#45;&gt;56</title>
<path fill="none" stroke="black" d="M592.05,-678.69C614.52,-633.12 648.08,-561.58 681.14,-489.41"/>
<polygon fill="black" stroke="black" points="681.23,-489.2 680.09,-482.08 686.23,-478.29 687.37,-485.41 681.23,-489.2"/>
</g>
<!-- 56&#45;&gt;55 -->
<g id="edge4" class="edge">
<title>56&#45;&gt;55</title>
<path fill="none" stroke="black" d="M897.25,-478.29C905.09,-495.42 912.95,-512.59 920.66,-529.46"/>
<polygon fill="none" stroke="black" points="911.25,-534.13 933.28,-557.04 930.35,-525.39 911.25,-534.13"/>
</g>
<!-- 56&#45;&gt;57 -->
<g id="edge6" class="edge">
<title>56&#45;&gt;57</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M428.51,-463.48C406.68,-480.18 385.45,-497.29 365.36,-514.6 310.03,-562.29 255.07,-625.3 219.91,-670.41"/>
<polygon fill="black" stroke="black" points="217.14,-668.28 213.8,-678.33 222.68,-672.55 217.14,-668.28"/>
</g>
<!-- 56&#45;&gt;58 -->
<g id="edge5" class="edge">
<title>56&#45;&gt;58</title>
<path fill="none" stroke="black" d="M672.73,-478.29C640.14,-549.42 608.02,-621.21 587.48,-669.38"/>
<polygon fill="black" stroke="black" points="584.21,-668.12 583.53,-678.69 590.65,-670.85 584.21,-668.12"/>
</g>
<!-- 60 -->
<g id="node5" class="node">
<title>60</title>
<polygon fill="#f2f2f2" stroke="black" points="1275.18,-515.1 1275.18,-942.3 2015.55,-942.3 2015.55,-515.1 1275.18,-515.1"/>
<text text-anchor="middle" x="1645.36" y="-925.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1645.36" y="-908.9" font-family="Times,serif" font-size="14.00">SameAssetUnderlyingsAbstractVault</text>
<text text-anchor="middle" x="1645.36" y="-892.1" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/SameAssetUnderlyingsAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="1275.18,-883.9 2015.55,-883.9 "/>
<text text-anchor="start" x="1283.18" y="-867.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1283.18" y="-850.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;underlyingVaults: IERC4626Vault[]</text>
<text text-anchor="start" x="1283.18" y="-833.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;vaultIndexMap: uint256</text>
<polyline fill="none" stroke="black" points="1275.18,-825.5 2015.55,-825.5 "/>
<text text-anchor="start" x="1283.18" y="-808.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1283.18" y="-792.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_underlyingVaults: address[])</text>
<text text-anchor="start" x="1283.18" y="-775.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_totalUnderlyingAssets(): (totalUnderlyingAssets: uint256)</text>
<text text-anchor="start" x="1283.18" y="-758.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_addVault(_underlyingVault: address, _vaultIndexMap: uint256): (vaultIndexMap_: uint256)</text>
<text text-anchor="start" x="1283.18" y="-741.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_resolveUnderlyingVaultIndex(_vaultIndex: uint256, _vaultIndexMap: uint256): (underlyingVaultIndex: uint256)</text>
<text text-anchor="start" x="1283.18" y="-724.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_mapVaultIndex(underlyingVaultIndex: uint256, _vaultIndexMap: uint256): (vaultIndexMap_: uint256, vaultIndex_: uint256)</text>
<text text-anchor="start" x="1283.18" y="-708.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_shiftActiveUnderlyingVaults(removedUnderlyingIndex: uint256)</text>
<text text-anchor="start" x="1283.18" y="-691.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1283.18" y="-674.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;activeUnderlyingVaults(): (activeVaults: uint256)</text>
<text text-anchor="start" x="1283.18" y="-657.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;totalUnderlyingVaults(): (totalVaults: uint256)</text>
<text text-anchor="start" x="1283.18" y="-640.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;resolveVaultIndex(vaultIndex: uint256): (vault: address)</text>
<text text-anchor="start" x="1283.18" y="-624.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;rebalance(swaps: Swap[]) &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="1283.18" y="-607.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addVault(_underlyingVault: address) &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="1283.18" y="-590.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeVault(vaultIndex: uint256) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="1283.18" y="-573.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1283.18" y="-556.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddedVault(vaultIndex: uint256, vault: address)</text>
<text text-anchor="start" x="1283.18" y="-540.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RemovedVault(vaultIndex: uint256, vault: address)</text>
<text text-anchor="start" x="1283.18" y="-523.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;totalAssets(): (totalManagedAssets: uint256)</text>
</g>
<!-- 56&#45;&gt;60 -->
<g id="edge3" class="edge">
<title>56&#45;&gt;60</title>
<path fill="none" stroke="black" d="M1148.08,-444.88C1181.32,-463.78 1215.12,-483.01 1248.66,-502.08"/>
<polygon fill="none" stroke="black" points="1243.6,-511.28 1274.87,-516.99 1253.98,-493.03 1243.6,-511.28"/>
</g>
<!-- 61 -->
<g id="node6" class="node">
<title>61</title>
<polygon fill="#f2f2f2" stroke="black" points="1618.36,-221.3 1618.36,-257.3 1672.36,-257.3 1672.36,-221.3 1618.36,-221.3"/>
<text text-anchor="middle" x="1645.36" y="-235.1" font-family="Times,serif" font-size="14.00">61</text>
</g>
<!-- 61&#45;&gt;60 -->
<g id="edge7" class="edge">
<title>61&#45;&gt;60</title>
<path fill="none" stroke="black" d="M1645.36,-257.36C1645.36,-297.51 1645.36,-402.19 1645.36,-502.62"/>
<polygon fill="black" stroke="black" points="1645.36,-502.84 1649.36,-508.84 1645.36,-514.84 1641.36,-508.84 1645.36,-502.84"/>
</g>
</g>
</svg>
