<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="1838pt" height="1001pt"
 viewBox="0.00 0.00 1837.81 1001.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 997.2)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-997.2 1833.81,-997.2 1833.81,4 -4,4"/>
<!-- 54 -->
<g id="node1" class="node">
<title>54</title>
<polygon fill="#f2f2f2" stroke="black" points="765.75,-624.3 765.75,-967.5 1256.98,-967.5 1256.98,-624.3 765.75,-624.3"/>
<text text-anchor="middle" x="1011.36" y="-950.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1011.36" y="-934.1" font-family="Times,serif" font-size="14.00">AssetPerShareAbstractVault</text>
<text text-anchor="middle" x="1011.36" y="-917.3" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/AssetPerShareAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="765.75,-909.1 1256.98,-909.1 "/>
<text text-anchor="start" x="773.75" y="-892.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="773.75" y="-875.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;ASSETS_PER_SHARE_SCALE: uint256</text>
<text text-anchor="start" x="773.75" y="-858.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetsPerShare: uint256</text>
<polyline fill="none" stroke="black" points="765.75,-850.7 1256.98,-850.7 "/>
<text text-anchor="start" x="773.75" y="-834.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="773.75" y="-817.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize()</text>
<text text-anchor="start" x="773.75" y="-800.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewDeposit(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="773.75" y="-783.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewMint(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="773.75" y="-766.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewWithdraw(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="773.75" y="-750.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewRedeem(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="773.75" y="-733.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToAssets(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="773.75" y="-716.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToShares(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="773.75" y="-699.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_updateAssetPerShare()</text>
<text text-anchor="start" x="773.75" y="-682.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="773.75" y="-666.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateAssetPerShare() &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="773.75" y="-649.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="773.75" y="-632.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AssetsPerShareUpdated(assetsPerShare: uint256, totalAssets: uint256)</text>
</g>
<!-- 56 -->
<g id="node2" class="node">
<title>56</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-745.9 0,-845.9 364.73,-845.9 364.73,-745.9 0,-745.9"/>
<text text-anchor="middle" x="182.36" y="-829.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="182.36" y="-812.5" font-family="Times,serif" font-size="14.00">Settlement</text>
<text text-anchor="middle" x="182.36" y="-795.7" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/PeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="0,-787.5 364.73,-787.5 "/>
<text text-anchor="start" x="8" y="-770.9" font-family="Times,serif" font-size="14.00">vaultIndex: uint256</text>
<text text-anchor="start" x="8" y="-754.1" font-family="Times,serif" font-size="14.00">assets: uint256</text>
</g>
<!-- 55 -->
<g id="node4" class="node">
<title>55</title>
<polygon fill="#f2f2f2" stroke="black" points="428.69,-0.5 428.69,-562.1 1148.04,-562.1 1148.04,-0.5 428.69,-0.5"/>
<text text-anchor="middle" x="788.36" y="-545.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="788.36" y="-528.7" font-family="Times,serif" font-size="14.00">PeriodicAllocationAbstractVault</text>
<text text-anchor="middle" x="788.36" y="-511.9" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/PeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="428.69,-503.7 1148.04,-503.7 "/>
<text text-anchor="start" x="436.69" y="-487.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="436.69" y="-470.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;BASIS_SCALE: uint256</text>
<text text-anchor="start" x="436.69" y="-453.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;sourceParams: AssetSourcingParams</text>
<text text-anchor="start" x="436.69" y="-436.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetsTransferred: uint256</text>
<text text-anchor="start" x="436.69" y="-419.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetPerShareUpdateThreshold: uint256</text>
<polyline fill="none" stroke="black" points="428.69,-411.7 1148.04,-411.7 "/>
<text text-anchor="start" x="436.69" y="-395.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="436.69" y="-378.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_underlyingVaults: address[], _sourceParams: AssetSourcingParams, _assetPerShareUpdateThreshold: uint256)</text>
<text text-anchor="start" x="436.69" y="-361.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_deposit(assets: uint256, receiver: address): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-344.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewDeposit(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-327.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_mint(shares: uint256, receiver: address): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-311.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewMint(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-294.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_withdraw(assets: uint256, receiver: address, owner: address): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-277.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewWithdraw(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-260.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_redeem(shares: uint256, receiver: address, owner: address): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-243.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewRedeem(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-227.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_sourceAssets(assets: uint256, shares: uint256): (actualAssets: uint256)</text>
<text text-anchor="start" x="436.69" y="-210.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkAndUpdateAssetPerShare(_assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToAssets(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToShares(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_afterRebalance()</text>
<text text-anchor="start" x="436.69" y="-143.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="436.69" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;settle(settlements: Settlement[]) &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="436.69" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSingleVaultSharesThreshold(_singleVaultSharesThreshold: uint32) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="436.69" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSingleSourceVaultIndex(_singleSourceVaultIndex: uint32) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="436.69" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setAssetPerShareUpdateThreshold(_assetPerShareUpdateThreshold: uint256) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="436.69" y="-59.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="436.69" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SingleVaultSharesThresholdUpdated(singleVaultSharesThreshold: uint256)</text>
<text text-anchor="start" x="436.69" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SingleSourceVaultIndexUpdated(singleSourceVaultIndex: uint32)</text>
<text text-anchor="start" x="436.69" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AssetPerShareUpdateThresholdUpdated(assetPerShareUpdateThreshold: uint256)</text>
</g>
<!-- 56&#45;&gt;55 -->
<g id="edge1" class="edge">
<title>56&#45;&gt;55</title>
<path fill="none" stroke="black" d="M233.9,-745.77C273.48,-704.84 329.99,-645.83 383.36,-598.6 395.04,-588.27 407.01,-577.9 419.2,-567.54"/>
<polygon fill="black" stroke="black" points="419.4,-567.37 421.39,-560.44 428.56,-559.61 426.56,-566.54 419.4,-567.37"/>
</g>
<!-- 57 -->
<g id="node3" class="node">
<title>57</title>
<polygon fill="#f2f2f2" stroke="black" points="383,-745.9 383,-845.9 747.73,-845.9 747.73,-745.9 383,-745.9"/>
<text text-anchor="middle" x="565.36" y="-829.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="565.36" y="-812.5" font-family="Times,serif" font-size="14.00">AssetSourcingParams</text>
<text text-anchor="middle" x="565.36" y="-795.7" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/PeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="383,-787.5 747.73,-787.5 "/>
<text text-anchor="start" x="391" y="-770.9" font-family="Times,serif" font-size="14.00">singleVaultSharesThreshold: uint32</text>
<text text-anchor="start" x="391" y="-754.1" font-family="Times,serif" font-size="14.00">singleSourceVaultIndex: uint32</text>
</g>
<!-- 57&#45;&gt;55 -->
<g id="edge2" class="edge">
<title>57&#45;&gt;55</title>
<path fill="none" stroke="black" d="M590.96,-745.68C610.58,-703.92 639.11,-640.28 668.41,-573.42"/>
<polygon fill="black" stroke="black" points="668.5,-573.22 667.24,-566.12 673.31,-562.22 674.57,-569.32 668.5,-573.22"/>
</g>
<!-- 55&#45;&gt;54 -->
<g id="edge4" class="edge">
<title>55&#45;&gt;54</title>
<path fill="none" stroke="black" d="M910.14,-562.22C915.15,-573.74 920.13,-585.19 925.05,-596.49"/>
<polygon fill="none" stroke="black" points="915.5,-600.86 937.1,-624.19 934.76,-592.49 915.5,-600.86"/>
</g>
<!-- 55&#45;&gt;56 -->
<g id="edge6" class="edge">
<title>55&#45;&gt;56</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M428.61,-544.54C406.93,-562.5 385.69,-580.62 365.36,-598.6 315.22,-642.97 262.31,-697.74 226.24,-738.14"/>
<polygon fill="black" stroke="black" points="223.5,-735.96 219.49,-745.77 228.74,-740.61 223.5,-735.96"/>
</g>
<!-- 55&#45;&gt;57 -->
<g id="edge5" class="edge">
<title>55&#45;&gt;57</title>
<path fill="none" stroke="black" d="M659.86,-562.22C631.27,-628.28 604.2,-692.23 586.37,-736.31"/>
<polygon fill="black" stroke="black" points="583.08,-735.1 582.59,-745.68 589.57,-737.71 583.08,-735.1"/>
</g>
<!-- 59 -->
<g id="node5" class="node">
<title>59</title>
<polygon fill="#f2f2f2" stroke="black" points="1274.92,-599.1 1274.92,-992.7 1829.81,-992.7 1829.81,-599.1 1274.92,-599.1"/>
<text text-anchor="middle" x="1552.36" y="-976.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1552.36" y="-959.3" font-family="Times,serif" font-size="14.00">SameAssetUnderlyingsAbstractVault</text>
<text text-anchor="middle" x="1552.36" y="-942.5" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/SameAssetUnderlyingsAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="1274.92,-934.3 1829.81,-934.3 "/>
<text text-anchor="start" x="1282.92" y="-917.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1282.92" y="-900.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_activeUnderlyingVaults: IERC4626Vault[]</text>
<text text-anchor="start" x="1282.92" y="-884.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;vaultIndexMap: uint256</text>
<polyline fill="none" stroke="black" points="1274.92,-875.9 1829.81,-875.9 "/>
<text text-anchor="start" x="1282.92" y="-859.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1282.92" y="-842.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_underlyingVaults: address[])</text>
<text text-anchor="start" x="1282.92" y="-825.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_totalUnderlyingAssets(): (totalUnderlyingAssets: uint256)</text>
<text text-anchor="start" x="1282.92" y="-808.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_addVault(_underlyingVault: address, _vaultIndexMap: uint256): (vaultIndexMap_: uint256)</text>
<text text-anchor="start" x="1282.92" y="-792.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_afterRebalance()</text>
<text text-anchor="start" x="1282.92" y="-775.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1282.92" y="-758.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;activeUnderlyingVaults(): (activeVaults: uint256)</text>
<text text-anchor="start" x="1282.92" y="-741.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;totalUnderlyingVaults(): (totalVaults: uint256)</text>
<text text-anchor="start" x="1282.92" y="-724.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;rebalance(swaps: Swap[]) &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="1282.92" y="-708.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addVault(_underlyingVault: address) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="1282.92" y="-691.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeVault(vaultIndex: uint256) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="1282.92" y="-674.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1282.92" y="-657.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddedVault(vaultIndex: uint256, vault: address)</text>
<text text-anchor="start" x="1282.92" y="-640.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RemovedVault(vaultIndex: uint256, vault: address)</text>
<text text-anchor="start" x="1282.92" y="-624.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;totalAssets(): (totalManagedAssets: uint256)</text>
<text text-anchor="start" x="1282.92" y="-607.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;resolveVaultIndex(vaultIndex: uint256): (vault: IERC4626Vault)</text>
</g>
<!-- 55&#45;&gt;59 -->
<g id="edge3" class="edge">
<title>55&#45;&gt;59</title>
<path fill="none" stroke="black" d="M1148.34,-519.56C1180.9,-541.25 1213.52,-563.06 1249.68,-587.38"/>
<polygon fill="none" stroke="black" points="1243.9,-596.14 1274.64,-604.19 1255.62,-578.72 1243.9,-596.14"/>
</g>
</g>
</svg>
