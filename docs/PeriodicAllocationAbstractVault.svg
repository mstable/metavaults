<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="1793pt" height="1035pt"
 viewBox="0.00 0.00 1792.53 1034.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1030.8)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1030.8 1788.53,-1030.8 1788.53,4 -4,4"/>
<!-- 97 -->
<g id="node1" class="node">
<title>97</title>
<polygon fill="#f2f2f2" stroke="black" points="720.47,-641.1 720.47,-1001.1 1211.7,-1001.1 1211.7,-641.1 720.47,-641.1"/>
<text text-anchor="middle" x="966.08" y="-984.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="966.08" y="-967.7" font-family="Times,serif" font-size="14.00">AssetPerShareAbstractVault</text>
<text text-anchor="middle" x="966.08" y="-950.9" font-family="Times,serif" font-size="14.00">contractsvaultallocateAssetPerShareAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="720.47,-942.7 1211.7,-942.7 "/>
<text text-anchor="start" x="728.47" y="-926.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="728.47" y="-909.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;ASSETS_PER_SHARE_SCALE: uint256</text>
<text text-anchor="start" x="728.47" y="-892.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetsPerShare: uint256</text>
<polyline fill="none" stroke="black" points="720.47,-884.3 1211.7,-884.3 "/>
<text text-anchor="start" x="728.47" y="-867.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="728.47" y="-850.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize()</text>
<text text-anchor="start" x="728.47" y="-834.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewDeposit(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="728.47" y="-817.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewMint(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="728.47" y="-800.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewWithdraw(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="728.47" y="-783.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewRedeem(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="728.47" y="-766.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToAssets(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="728.47" y="-750.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToShares(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="728.47" y="-733.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_updateAssetPerShare()</text>
<text text-anchor="start" x="728.47" y="-716.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="728.47" y="-699.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateAssetPerShare() &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="728.47" y="-682.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="728.47" y="-666.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AssetsPerShareUpdated(assetsPerShare: uint256, totalAssets: uint256)</text>
<text text-anchor="start" x="728.47" y="-649.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;calculateAssetPerShare(): (assetsPerShare_: uint256, totalAssets_: uint256)</text>
</g>
<!-- 99 -->
<g id="node2" class="node">
<title>99</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-771.1 0,-871.1 342.17,-871.1 342.17,-771.1 0,-771.1"/>
<text text-anchor="middle" x="171.08" y="-854.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="171.08" y="-837.7" font-family="Times,serif" font-size="14.00">Settlement</text>
<text text-anchor="middle" x="171.08" y="-820.9" font-family="Times,serif" font-size="14.00">contractsvaultallocatePeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="0,-812.7 342.17,-812.7 "/>
<text text-anchor="start" x="8" y="-796.1" font-family="Times,serif" font-size="14.00">vaultIndex: uint256</text>
<text text-anchor="start" x="8" y="-779.3" font-family="Times,serif" font-size="14.00">assets: uint256</text>
</g>
<!-- 98 -->
<g id="node4" class="node">
<title>98</title>
<polygon fill="#f2f2f2" stroke="black" points="388.41,-0.5 388.41,-578.9 1107.76,-578.9 1107.76,-0.5 388.41,-0.5"/>
<text text-anchor="middle" x="748.08" y="-562.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="748.08" y="-545.5" font-family="Times,serif" font-size="14.00">PeriodicAllocationAbstractVault</text>
<text text-anchor="middle" x="748.08" y="-528.7" font-family="Times,serif" font-size="14.00">contractsvaultallocatePeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="388.41,-520.5 1107.76,-520.5 "/>
<text text-anchor="start" x="396.41" y="-503.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="396.41" y="-487.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;BASIS_SCALE: uint256</text>
<text text-anchor="start" x="396.41" y="-470.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;sourceParams: AssetSourcingParams</text>
<text text-anchor="start" x="396.41" y="-453.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetsTransferred: uint256</text>
<text text-anchor="start" x="396.41" y="-436.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetPerShareUpdateThreshold: uint256</text>
<polyline fill="none" stroke="black" points="388.41,-428.5 1107.76,-428.5 "/>
<text text-anchor="start" x="396.41" y="-411.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="396.41" y="-395.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_underlyingVaults: address[], _sourceParams: AssetSourcingParams, _assetPerShareUpdateThreshold: uint256)</text>
<text text-anchor="start" x="396.41" y="-378.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_deposit(assets: uint256, receiver: address): (shares: uint256)</text>
<text text-anchor="start" x="396.41" y="-361.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewDeposit(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="396.41" y="-344.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_mint(shares: uint256, receiver: address): (assets: uint256)</text>
<text text-anchor="start" x="396.41" y="-327.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewMint(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="396.41" y="-311.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_withdraw(assets: uint256, receiver: address, owner: address): (shares: uint256)</text>
<text text-anchor="start" x="396.41" y="-294.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewWithdraw(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="396.41" y="-277.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_redeem(shares: uint256, receiver: address, owner: address): (assets: uint256)</text>
<text text-anchor="start" x="396.41" y="-260.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewRedeem(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="396.41" y="-243.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_sourceAssets(assets: uint256, shares: uint256): (actualAssets: uint256)</text>
<text text-anchor="start" x="396.41" y="-227.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkAndUpdateAssetPerShare(_assets: uint256)</text>
<text text-anchor="start" x="396.41" y="-210.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToAssets(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="396.41" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToShares(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="396.41" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_afterRebalance()</text>
<text text-anchor="start" x="396.41" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_afterRemoveVault()</text>
<text text-anchor="start" x="396.41" y="-143.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="396.41" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;settle(settlements: Settlement[]) &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="396.41" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSingleVaultSharesThreshold(_singleVaultSharesThreshold: uint32) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="396.41" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSingleSourceVaultIndex(_singleSourceVaultIndex: uint32) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="396.41" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setAssetPerShareUpdateThreshold(_assetPerShareUpdateThreshold: uint256) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="396.41" y="-59.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="396.41" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SingleVaultSharesThresholdUpdated(singleVaultSharesThreshold: uint256)</text>
<text text-anchor="start" x="396.41" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SingleSourceVaultIndexUpdated(singleSourceVaultIndex: uint32)</text>
<text text-anchor="start" x="396.41" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AssetPerShareUpdateThresholdUpdated(assetPerShareUpdateThreshold: uint256)</text>
</g>
<!-- 99&#45;&gt;98 -->
<g id="edge1" class="edge">
<title>99&#45;&gt;98</title>
<path fill="none" stroke="black" d="M217.56,-770.93C254.57,-728.15 308.32,-665.35 360.08,-615.4 369.81,-606.02 379.78,-596.6 389.92,-587.2"/>
<polygon fill="black" stroke="black" points="390.06,-587.07 391.76,-580.06 398.88,-578.93 397.19,-585.94 390.06,-587.07"/>
</g>
<!-- 100 -->
<g id="node3" class="node">
<title>100</title>
<polygon fill="#f2f2f2" stroke="black" points="360,-771.1 360,-871.1 702.17,-871.1 702.17,-771.1 360,-771.1"/>
<text text-anchor="middle" x="531.08" y="-854.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="531.08" y="-837.7" font-family="Times,serif" font-size="14.00">AssetSourcingParams</text>
<text text-anchor="middle" x="531.08" y="-820.9" font-family="Times,serif" font-size="14.00">contractsvaultallocatePeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="360,-812.7 702.17,-812.7 "/>
<text text-anchor="start" x="368" y="-796.1" font-family="Times,serif" font-size="14.00">singleVaultSharesThreshold: uint32</text>
<text text-anchor="start" x="368" y="-779.3" font-family="Times,serif" font-size="14.00">singleSourceVaultIndex: uint32</text>
</g>
<!-- 100&#45;&gt;98 -->
<g id="edge2" class="edge">
<title>100&#45;&gt;98</title>
<path fill="none" stroke="black" d="M555.39,-770.87C574.64,-727.57 602.94,-660.62 631.96,-590.33"/>
<polygon fill="black" stroke="black" points="632.05,-590.12 630.64,-583.05 636.63,-579.02 638.04,-586.1 632.05,-590.12"/>
</g>
<!-- 98&#45;&gt;97 -->
<g id="edge4" class="edge">
<title>98&#45;&gt;97</title>
<path fill="none" stroke="black" d="M866.81,-579.02C871.46,-590.32 876.09,-601.56 880.66,-612.65"/>
<polygon fill="none" stroke="black" points="871.1,-617.01 892.23,-640.76 890.52,-609.02 871.1,-617.01"/>
</g>
<!-- 98&#45;&gt;99 -->
<g id="edge6" class="edge">
<title>98&#45;&gt;99</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M388.26,-572.21C372.45,-586.58 356.98,-601.03 342.08,-615.4 293.46,-662.32 243.07,-720.59 209.58,-762.94"/>
<polygon fill="black" stroke="black" points="206.74,-760.9 203.32,-770.93 212.25,-765.22 206.74,-760.9"/>
</g>
<!-- 98&#45;&gt;100 -->
<g id="edge5" class="edge">
<title>98&#45;&gt;100</title>
<path fill="none" stroke="black" d="M623.18,-579.02C594.86,-648.45 568.06,-715.69 550.7,-761.44"/>
<polygon fill="black" stroke="black" points="547.39,-760.28 547.14,-770.87 553.94,-762.75 547.39,-760.28"/>
</g>
<!-- 102 -->
<g id="node5" class="node">
<title>102</title>
<polygon fill="#f2f2f2" stroke="black" points="1229.64,-615.9 1229.64,-1026.3 1784.53,-1026.3 1784.53,-615.9 1229.64,-615.9"/>
<text text-anchor="middle" x="1507.08" y="-1009.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1507.08" y="-992.9" font-family="Times,serif" font-size="14.00">SameAssetUnderlyingsAbstractVault</text>
<text text-anchor="middle" x="1507.08" y="-976.1" font-family="Times,serif" font-size="14.00">contractsvaultallocateSameAssetUnderlyingsAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="1229.64,-967.9 1784.53,-967.9 "/>
<text text-anchor="start" x="1237.64" y="-951.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1237.64" y="-934.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_activeUnderlyingVaults: IERC4626Vault[]</text>
<text text-anchor="start" x="1237.64" y="-917.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;vaultIndexMap: uint256</text>
<polyline fill="none" stroke="black" points="1229.64,-909.5 1784.53,-909.5 "/>
<text text-anchor="start" x="1237.64" y="-892.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1237.64" y="-876.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_underlyingVaults: address[])</text>
<text text-anchor="start" x="1237.64" y="-859.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_totalUnderlyingAssets(): (totalUnderlyingAssets: uint256)</text>
<text text-anchor="start" x="1237.64" y="-842.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_addVault(_underlyingVault: address, _vaultIndexMap: uint256): (vaultIndexMap_: uint256)</text>
<text text-anchor="start" x="1237.64" y="-825.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_afterRebalance()</text>
<text text-anchor="start" x="1237.64" y="-808.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_afterRemoveVault()</text>
<text text-anchor="start" x="1237.64" y="-792.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1237.64" y="-775.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;activeUnderlyingVaults(): (activeVaults: uint256)</text>
<text text-anchor="start" x="1237.64" y="-758.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;totalUnderlyingVaults(): (totalVaults: uint256)</text>
<text text-anchor="start" x="1237.64" y="-741.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;rebalance(swaps: Swap[]) &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="1237.64" y="-724.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addVault(_underlyingVault: address) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="1237.64" y="-708.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeVault(vaultIndex: uint256) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="1237.64" y="-691.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1237.64" y="-674.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddedVault(vaultIndex: uint256, vault: address)</text>
<text text-anchor="start" x="1237.64" y="-657.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RemovedVault(vaultIndex: uint256, vault: address)</text>
<text text-anchor="start" x="1237.64" y="-640.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;totalAssets(): (totalManagedAssets: uint256)</text>
<text text-anchor="start" x="1237.64" y="-624.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;resolveVaultIndex(vaultIndex: uint256): (vault: IERC4626Vault)</text>
</g>
<!-- 98&#45;&gt;102 -->
<g id="edge3" class="edge">
<title>98&#45;&gt;102</title>
<path fill="none" stroke="black" d="M1107.9,-536.61C1139,-558.14 1170.12,-579.76 1204.78,-603.99"/>
<polygon fill="none" stroke="black" points="1198.78,-612.61 1229.37,-621.22 1210.82,-595.41 1198.78,-612.61"/>
</g>
</g>
</svg>
