<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="1838pt" height="900pt"
 viewBox="0.00 0.00 1837.81 900.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 896.4)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-896.4 1833.81,-896.4 1833.81,4 -4,4"/>
<!-- 57 -->
<g id="node1" class="node">
<title>57</title>
<polygon fill="#f2f2f2" stroke="black" points="765.75,-531.9 765.75,-875.1 1256.98,-875.1 1256.98,-531.9 765.75,-531.9"/>
<text text-anchor="middle" x="1011.36" y="-858.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1011.36" y="-841.7" font-family="Times,serif" font-size="14.00">AssetPerShareAbstractVault</text>
<text text-anchor="middle" x="1011.36" y="-824.9" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/AssetPerShareAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="765.75,-816.7 1256.98,-816.7 "/>
<text text-anchor="start" x="773.75" y="-800.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="773.75" y="-783.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;ASSETS_PER_SHARE_SCALE: uint256</text>
<text text-anchor="start" x="773.75" y="-766.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetsPerShare: uint256</text>
<polyline fill="none" stroke="black" points="765.75,-758.3 1256.98,-758.3 "/>
<text text-anchor="start" x="773.75" y="-741.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="773.75" y="-724.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize()</text>
<text text-anchor="start" x="773.75" y="-708.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewDeposit(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="773.75" y="-691.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewMint(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="773.75" y="-674.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewWithdraw(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="773.75" y="-657.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewRedeem(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="773.75" y="-640.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToAssets(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="773.75" y="-624.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToShares(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="773.75" y="-607.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_updateAssetPerShare()</text>
<text text-anchor="start" x="773.75" y="-590.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="773.75" y="-573.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateAssetPerShare() &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="773.75" y="-556.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="773.75" y="-540.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AssetsPerShareUpdated(assetsPerShare: uint256, totalAssets: uint256)</text>
</g>
<!-- 59 -->
<g id="node2" class="node">
<title>59</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-653.5 0,-753.5 364.73,-753.5 364.73,-653.5 0,-653.5"/>
<text text-anchor="middle" x="182.36" y="-736.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="182.36" y="-720.1" font-family="Times,serif" font-size="14.00">Settlement</text>
<text text-anchor="middle" x="182.36" y="-703.3" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/PeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="0,-695.1 364.73,-695.1 "/>
<text text-anchor="start" x="8" y="-678.5" font-family="Times,serif" font-size="14.00">vaultIndex: uint256</text>
<text text-anchor="start" x="8" y="-661.7" font-family="Times,serif" font-size="14.00">assets: uint256</text>
</g>
<!-- 58 -->
<g id="node4" class="node">
<title>58</title>
<polygon fill="#f2f2f2" stroke="black" points="428.69,-0.5 428.69,-478.1 1148.04,-478.1 1148.04,-0.5 428.69,-0.5"/>
<text text-anchor="middle" x="788.36" y="-461.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="788.36" y="-444.7" font-family="Times,serif" font-size="14.00">PeriodicAllocationAbstractVault</text>
<text text-anchor="middle" x="788.36" y="-427.9" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/PeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="428.69,-419.7 1148.04,-419.7 "/>
<text text-anchor="start" x="436.69" y="-403.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="436.69" y="-386.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;BASIS_SCALE: uint256</text>
<text text-anchor="start" x="436.69" y="-369.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;sourceParams: AssetSourcingParams</text>
<text text-anchor="start" x="436.69" y="-352.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetsTransferred: uint256</text>
<text text-anchor="start" x="436.69" y="-335.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;assetPerShareUpdateThreshold: uint256</text>
<polyline fill="none" stroke="black" points="428.69,-327.7 1148.04,-327.7 "/>
<text text-anchor="start" x="436.69" y="-311.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="436.69" y="-294.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_underlyingVaults: address[], _sourceParams: AssetSourcingParams, _assetPerShareUpdateThreshold: uint256)</text>
<text text-anchor="start" x="436.69" y="-277.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_deposit(assets: uint256, receiver: address): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-260.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewDeposit(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-243.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_mint(shares: uint256, receiver: address): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-227.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewMint(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-210.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_withdraw(assets: uint256, receiver: address, owner: address): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewWithdraw(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_redeem(shares: uint256, receiver: address, owner: address): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_previewRedeem(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_sourceAssets(assets: uint256, shares: uint256): (actualAssets: uint256)</text>
<text text-anchor="start" x="436.69" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkAndUpdateAssetPerShare(_assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToAssets(shares: uint256): (assets: uint256)</text>
<text text-anchor="start" x="436.69" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_convertToShares(assets: uint256): (shares: uint256)</text>
<text text-anchor="start" x="436.69" y="-75.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="436.69" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;settle(settlements: Settlement[]) &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="436.69" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSingleVaultSharesThreshold(_singleVaultSharesThreshold: uint32) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="436.69" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSingleSourceVaultIndex(_singleSourceVaultIndex: uint32) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="436.69" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setAssetPerShareUpdateThreshold(_assetPerShareUpdateThreshold: uint256) &lt;&lt;onlyGovernor&gt;&gt;</text>
</g>
<!-- 59&#45;&gt;58 -->
<g id="edge1" class="edge">
<title>59&#45;&gt;58</title>
<path fill="none" stroke="black" d="M235.05,-653.16C274.28,-613.64 329.87,-557.85 383.36,-514.6 395.39,-504.88 407.75,-495.18 420.36,-485.54"/>
<polygon fill="black" stroke="black" points="420.49,-485.44 422.84,-478.62 430.04,-478.18 427.69,-484.99 420.49,-485.44"/>
</g>
<!-- 60 -->
<g id="node3" class="node">
<title>60</title>
<polygon fill="#f2f2f2" stroke="black" points="383,-653.5 383,-753.5 747.73,-753.5 747.73,-653.5 383,-653.5"/>
<text text-anchor="middle" x="565.36" y="-736.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="565.36" y="-720.1" font-family="Times,serif" font-size="14.00">AssetSourcingParams</text>
<text text-anchor="middle" x="565.36" y="-703.3" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/PeriodicAllocationAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="383,-695.1 747.73,-695.1 "/>
<text text-anchor="start" x="391" y="-678.5" font-family="Times,serif" font-size="14.00">singleVaultSharesThreshold: uint32</text>
<text text-anchor="start" x="391" y="-661.7" font-family="Times,serif" font-size="14.00">singleSourceVaultIndex: uint32</text>
</g>
<!-- 60&#45;&gt;58 -->
<g id="edge2" class="edge">
<title>60&#45;&gt;58</title>
<path fill="none" stroke="black" d="M593.57,-653.1C614.61,-612.49 644.76,-551.64 675.08,-489.05"/>
<polygon fill="black" stroke="black" points="675.12,-488.97 674.13,-481.83 680.35,-478.17 681.33,-485.31 675.12,-488.97"/>
</g>
<!-- 58&#45;&gt;57 -->
<g id="edge4" class="edge">
<title>58&#45;&gt;57</title>
<path fill="none" stroke="black" d="M903.13,-478.17C907.34,-486.9 911.55,-495.62 915.73,-504.28"/>
<polygon fill="none" stroke="black" points="906.44,-509.19 928.93,-531.65 925.35,-500.06 906.44,-509.19"/>
</g>
<!-- 58&#45;&gt;59 -->
<g id="edge6" class="edge">
<title>58&#45;&gt;59</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M428.67,-465.76C406.92,-481.85 385.65,-498.2 365.36,-514.6 315.21,-555.15 263.22,-606.71 227.43,-645.57"/>
<polygon fill="black" stroke="black" points="224.65,-643.42 220.49,-653.16 229.82,-648.14 224.65,-643.42"/>
</g>
<!-- 58&#45;&gt;60 -->
<g id="edge5" class="edge">
<title>58&#45;&gt;60</title>
<path fill="none" stroke="black" d="M666.85,-478.17C637.13,-539.86 608.37,-600.91 589.05,-643.71"/>
<polygon fill="black" stroke="black" points="585.74,-642.54 584.83,-653.1 592.12,-645.41 585.74,-642.54"/>
</g>
<!-- 62 -->
<g id="node5" class="node">
<title>62</title>
<polygon fill="#f2f2f2" stroke="black" points="1274.92,-515.1 1274.92,-891.9 1829.81,-891.9 1829.81,-515.1 1274.92,-515.1"/>
<text text-anchor="middle" x="1552.36" y="-875.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1552.36" y="-858.5" font-family="Times,serif" font-size="14.00">SameAssetUnderlyingsAbstractVault</text>
<text text-anchor="middle" x="1552.36" y="-841.7" font-family="Times,serif" font-size="14.00">../contracts/vault/allocate/SameAssetUnderlyingsAbstractVault.sol</text>
<polyline fill="none" stroke="black" points="1274.92,-833.5 1829.81,-833.5 "/>
<text text-anchor="start" x="1282.92" y="-816.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1282.92" y="-800.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_activeUnderlyingVaults: IERC4626Vault[]</text>
<text text-anchor="start" x="1282.92" y="-783.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;vaultIndexMap: uint256</text>
<polyline fill="none" stroke="black" points="1274.92,-775.1 1829.81,-775.1 "/>
<text text-anchor="start" x="1282.92" y="-758.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1282.92" y="-741.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_initialize(_underlyingVaults: address[])</text>
<text text-anchor="start" x="1282.92" y="-724.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_totalUnderlyingAssets(): (totalUnderlyingAssets: uint256)</text>
<text text-anchor="start" x="1282.92" y="-708.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_addVault(_underlyingVault: address, _vaultIndexMap: uint256): (vaultIndexMap_: uint256)</text>
<text text-anchor="start" x="1282.92" y="-691.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1282.92" y="-674.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;activeUnderlyingVaults(): (activeVaults: uint256)</text>
<text text-anchor="start" x="1282.92" y="-657.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;totalUnderlyingVaults(): (totalVaults: uint256)</text>
<text text-anchor="start" x="1282.92" y="-640.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;rebalance(swaps: Swap[]) &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="1282.92" y="-624.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addVault(_underlyingVault: address) &lt;&lt;onlyVaultManager&gt;&gt;</text>
<text text-anchor="start" x="1282.92" y="-607.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeVault(vaultIndex: uint256) &lt;&lt;onlyGovernor&gt;&gt;</text>
<text text-anchor="start" x="1282.92" y="-590.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1282.92" y="-573.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddedVault(vaultIndex: uint256, vault: address)</text>
<text text-anchor="start" x="1282.92" y="-556.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RemovedVault(vaultIndex: uint256, vault: address)</text>
<text text-anchor="start" x="1282.92" y="-540.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;totalAssets(): (totalManagedAssets: uint256)</text>
<text text-anchor="start" x="1282.92" y="-523.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;resolveVaultIndex(vaultIndex: uint256): (vault: IERC4626Vault)</text>
</g>
<!-- 58&#45;&gt;62 -->
<g id="edge3" class="edge">
<title>58&#45;&gt;62</title>
<path fill="none" stroke="black" d="M1148.31,-443.74C1180.76,-462.83 1213.2,-482.18 1249.03,-504.02"/>
<polygon fill="none" stroke="black" points="1243.68,-513.06 1274.75,-519.77 1254.65,-495.15 1243.68,-513.06"/>
</g>
<!-- 63 -->
<g id="node6" class="node">
<title>63</title>
<polygon fill="#f2f2f2" stroke="black" points="1525.36,-221.3 1525.36,-257.3 1579.36,-257.3 1579.36,-221.3 1525.36,-221.3"/>
<text text-anchor="middle" x="1552.36" y="-235.1" font-family="Times,serif" font-size="14.00">63</text>
</g>
<!-- 63&#45;&gt;62 -->
<g id="edge7" class="edge">
<title>63&#45;&gt;62</title>
<path fill="none" stroke="black" d="M1552.36,-257.58C1552.36,-298.32 1552.36,-404.41 1552.36,-502.78"/>
<polygon fill="black" stroke="black" points="1552.36,-503.04 1556.36,-509.04 1552.36,-515.04 1548.36,-509.04 1552.36,-503.04"/>
</g>
</g>
</svg>
